<!DOCTYPE html>
<html>
<head>
  <title>Number Engine App</title>

  <style>
    body {
      margin: 0;
      font-family: Arial, sans-serif;
      background: #111827;
      color: white;
      display: flex;
    }

    /* Sidebar */

    #sidebar {
      width: 250px;
      background: #1f2937;
      padding: 20px;
      transition: 0.3s;
      display: flex;
      flex-direction: column;
    }

    #sidebar.hidden {
      width: 0;
      padding: 0;
      overflow: hidden;
    }

    #sidebar h2 {
      margin-top: 0;
    }

    .menu-button {
      background: none;
      border: none;
      color: white;
      padding: 10px;
      text-align: left;
      cursor: pointer;
      border-radius: 6px;
      margin-bottom: 5px;
    }

    .menu-button.active {
      background: #3b82f6;
    }

    /* Main Content */

    #main {
      flex: 1;
      padding: 30px;
      position: relative;
    }

    #toggleSidebar {
      position: absolute;
      top: 20px;
      right: 20px;
      cursor: pointer;
      font-size: 18px;
      background: #374151;
      border: none;
      color: white;
      padding: 6px 10px;
      border-radius: 6px;
    }

    input {
      width: 80%;
      max-width: 500px;
      padding: 10px;
      font-size: 18px;
      border-radius: 6px;
      border: none;
      margin-top: 20px;
    }

    button.action {
      margin-top: 15px;
      padding: 10px 18px;
      border-radius: 6px;
      border: none;
      background: #10b981;
      color: white;
      cursor: pointer;
    }

    #result {
      margin-top: 20px;
      font-size: 18px;
      line-height: 1.5;
    }

    #historyList {
      margin-top: 20px;
      font-size: 14px;
      max-height: 400px;
      overflow-y: auto;
    }

  </style>
</head>

<body>

<div id="sidebar">
  <h2>Tools</h2>
  <button class="menu-button active" onclick="showTool('calculator')">Calculator</button>
  <button class="menu-button" onclick="showTool('history')">History</button>
</div>

<div id="main">

  <button id="toggleSidebar" onclick="toggleSidebar()">☰</button>

  <div id="calculatorTool">
    <h1>Number Name Calculator</h1>
    <input id="numberInput" placeholder="Enter number..." />
    <br>
    <button class="action" onclick="calculate()">Calculate</button>
    <div id="result"></div>
  </div>

  <div id="historyTool" style="display:none;">
    <h1>Calculation History</h1>
    <div id="historyList"></div>
  </div>

</div>

<script>

// Sidebar Toggle

function toggleSidebar() {
  document.getElementById("sidebar").classList.toggle("hidden");
}

// Tool Switching

function showTool(tool) {

  document.getElementById("calculatorTool").style.display = "none";
  document.getElementById("historyTool").style.display = "none";

  document.querySelectorAll(".menu-button").forEach(btn =>
    btn.classList.remove("active")
  );

  if (tool === "calculator") {
    document.getElementById("calculatorTool").style.display = "block";
    document.querySelectorAll(".menu-button")[0].classList.add("active");
  }

  if (tool === "history") {
    document.getElementById("historyTool").style.display = "block";
    document.querySelectorAll(".menu-button")[1].classList.add("active");
    loadHistory();
  }
}

// Number Naming (Basic Short Scale)

const shortScale = [
  "", "thousand", "million", "billion",
  "trillion", "quadrillion", "quintillion"
];

function calculate() {

  let numStr = document.getElementById("numberInput").value;
  numStr = numStr.replace(/,/g, "").trim();

  if (!/^\d+$/.test(numStr)) {
    document.getElementById("result").innerText = "Invalid number.";
    return;
  }

  const groups = [];
  let temp = numStr;

  while (temp.length > 0) {
    groups.unshift(temp.slice(-3));
    temp = temp.slice(0, -3);
  }

  const highestIndex = groups.length - 1;
  const highestValue = parseInt(groups[0]);

  function getName(index) {

  if (index < shortScale.length) {
    return shortScale[index];
  }

  // Beyond known scale
  const extraIndex = index - shortScale.length;

  const unitPrefixes = [
    "", "un", "duo", "tri", "quad",
    "quin", "sex", "sept", "oct", "non"
  ];

  const tierPrefixes = [
    "zoa", "gon", "qaigen", "suno",
    "valen", "teron", "luxen", "phyr", "nexon"
  ];

  const tier = Math.floor(extraIndex / 9);
  const unit = (extraIndex % 9) + 1;

  const unitName = unitPrefixes[unit];
  const tierName = tierPrefixes[tier % tierPrefixes.length];

  return unitName + tierName + "illion";
}


  const output = `${highestValue} ${name}`;

  document.getElementById("result").innerText = output;

  saveToHistory(numStr, output);
}

// Memory Storage (Local Storage)

function saveToHistory(input, result) {

  let history = JSON.parse(localStorage.getItem("calcHistory")) || [];

  history.unshift({ input, result });

  localStorage.setItem("calcHistory", JSON.stringify(history));
}

function loadHistory() {

  let history = JSON.parse(localStorage.getItem("calcHistory")) || [];

  const historyDiv = document.getElementById("historyList");
  historyDiv.innerHTML = "";

  history.forEach(item => {
    const entry = document.createElement("div");
    entry.innerText = `${item.input} → ${item.result}`;
    historyDiv.appendChild(entry);
  });
}

</script>

</body>
</html>
